(function(e){function n(e,t,n,r){var i=t.xaxis.options.mode=="categories",s=t.yaxis.options.mode=="categories";if(!(i||s))return;var o=r.format;if(!o){var u=t;o=[];o.push({x:true,number:true,required:true});o.push({y:true,number:true,required:true});if(u.bars.show||u.lines.show&&u.lines.fill){var a=!!(u.bars.show&&u.bars.zero||u.lines.show&&u.lines.zero);o.push({y:true,number:true,required:false,defaultValue:0,autoscale:a});if(u.bars.horizontal){delete o[o.length-1].y;o[o.length-1].x=true}}r.format=o}for(var f=0;f<o.length;++f){if(o[f].x&&i)o[f].number=false;if(o[f].y&&s)o[f].number=false}}function r(e){var t=-1;for(var n in e)if(e[n]>t)t=e[n];return t+1}function i(e){var t=[];for(var n in e.categories){var r=e.categories[n];if(r>=e.min&&r<=e.max)t.push([r,n])}t.sort(function(e,t){return e[0]-t[0]});return t}function s(t,n,r){if(t[n].options.mode!="categories")return;if(!t[n].categories){var s={},u=t[n].options.categories||{};if(e.isArray(u)){for(var a=0;a<u.length;++a)s[u[a]]=a}else{for(var f in u)s[f]=u[f]}t[n].categories=s}if(!t[n].options.ticks)t[n].options.ticks=i;o(r,n,t[n].categories)}function o(e,t,n){var i=e.points,s=e.pointsize,o=e.format,u=t.charAt(0),a=r(n);for(var f=0;f<i.length;f+=s){if(i[f]==null)continue;for(var l=0;l<s;++l){var c=i[f+l];if(c==null||!o[l][u])continue;if(!(c in n)){n[c]=a;++a}i[f+l]=n[c]}}}function u(e,t,n){s(t,"xaxis",n);s(t,"yaxis",n)}function a(e){e.hooks.processRawData.push(n);e.hooks.processDatapoints.push(u)}var t={xaxis:{categories:null},yaxis:{categories:null}};e.plot.plugins.push({init:a,options:t,name:"categories",version:"1.0"})})(jQuery)